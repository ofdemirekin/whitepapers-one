<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whitepapers.one â€“ Web3 Bilgi ÃœssÃ¼</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="stars"></canvas>
    <header>
        <h1>ðŸš€ Whitepapers.one</h1>
        <p>AI Destekli Whitepaper KÃ¼tÃ¼phanesi â€“ Web3 Bilgi ÃœssÃ¼</p>
        <input type="text" id="search" placeholder="Coin ara (BTC, ETH, BNB...)">
        <select id="sort">
            <option value="desc">MarketCap: YÃ¼ksek â†’ DÃ¼ÅŸÃ¼k</option>
            <option value="asc">MarketCap: DÃ¼ÅŸÃ¼k â†’ YÃ¼ksek</option>
        </select>
    </header>
    <main id="content" class="container"></main>
    <footer>
        <p>Â© 2025 Whitepapers.one | Kozmik BilinÃ§le KodlandÄ±</p>
    </footer>
    <script>
        async function loadData() {
            const res = await fetch('data.json');
            const data = await res.json();
            const container = document.getElementById('content');

            function renderCards(filter="", order="desc") {
                container.innerHTML = "";
                let coins = data.whitepapers
                    .filter(wp => wp.name.toLowerCase().includes(filter) || wp.symbol.toLowerCase().includes(filter));

                coins.sort((a, b) => order === "desc" ? a.marketcapRank - b.marketcapRank : b.marketcapRank - a.marketcapRank);

                coins.forEach(wp => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `<h2>${wp.name} <span>(${wp.symbol})</span></h2>
                                      <p>Rank: #${wp.marketcapRank}</p>
                                      <p>${wp.summary}</p>
                                      <a href="${wp.link}" target="_blank">ðŸ“„ Whitepaper</a>`;
                    container.appendChild(card);
                });
            }

            renderCards();

            document.getElementById('search').addEventListener('input', e => {
                renderCards(e.target.value.toLowerCase(), document.getElementById('sort').value);
            });

            document.getElementById('sort').addEventListener('change', e => {
                renderCards(document.getElementById('search').value.toLowerCase(), e.target.value);
            });
        }
        loadData();

        const canvas = document.getElementById('stars');
        const ctx = canvas.getContext('2d');
        let stars = [];
        const numStars = 200;
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        for (let i = 0; i < numStars; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 1.2,
                speed: Math.random() * 0.5
            });
        }

        function animateStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            stars.forEach(star => {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill();
                star.y += star.speed;
                if (star.y > canvas.height) {
                    star.y = 0;
                    star.x = Math.random() * canvas.width;
                }
            });
            requestAnimationFrame(animateStars);
        }
        animateStars();
    </script>
</body>
</html>
